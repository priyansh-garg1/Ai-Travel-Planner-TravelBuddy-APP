/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */

const {
  GoogleGenerativeAI,
  HarmCategory,
  HarmBlockThreshold,
} = require("@google/generative-ai");

const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  // safetySettings: Adjust safety settings
  // See https://ai.google.dev/gemini-api/docs/safety-settings
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Paris, for 2 Days and 1 Night for Just Me with a Luxury budget with a flight details , Flight Price with Booking \nurl, Hotels options list with Hotel Name, Hotel Address, Price, Hotel Image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket pricing, Time to travel each of the location for {totalDay} days and {totalNight} night with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "flight": {\n    "bookingUrl": "https://www.google.com/flights", \n    "flightPrice": "N/A", \n    "details": "This is a placeholder. You\'ll need to search for flights yourself based on your departure city and dates."\n  },\n  "hotel": [\n    {\n      "name": "Four Seasons Hotel George V",\n      "address": "31 Ave. George V, 75008 Paris, France",\n      "price": "Starting from $1,500 per night", \n      "imageUrl": "https://www.fourseasons.com/images/hotels/par/par_home_hero_1440x720.jpg",\n      "geoCoordinates": "48.8684, 2.2947",\n      "rating": "4.8/5", \n      "description": "A luxurious hotel in the heart of Paris, known for its elegant rooms, fine dining, and impeccable service.",\n      "placesNearby": [\n        {\n          "name": "Champs-Élysées",\n          "details": "Iconic avenue with luxury shops, restaurants, and the Arc de Triomphe.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/Champs-%C3%89lys%C3%A9es_%28cropped%29.jpg/1200px-Champs-%C3%89lys%C3%A9es_%28cropped%29.jpg",\n          "geoCoordinates": "48.8686, 2.2947",\n          "ticketPricing": "N/A", \n          "timeToTravel": "5-10 minutes walk"\n        },\n        {\n          "name": "Petit Palais",\n          "details": "Museum showcasing art from the 18th and 19th centuries.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Petit_Palais%2C_Paris.jpg/1024px-Petit_Palais%2C_Paris.jpg",\n          "geoCoordinates": "48.8621, 2.2983",\n          "ticketPricing": "14 Euros",\n          "timeToTravel": "15-20 minutes walk"\n        }\n      ]\n    },\n    {\n      "name": "Le Bristol Paris",\n      "address": "112 Rue du Faubourg Saint-Honoré, 75008 Paris, France",\n      "price": "Starting from $1,800 per night", \n      "imageUrl": "https://www.lebristolparis.com/sites/default/files/styles/page_hero/public/2021-11/lebristol_paris_hero_1440x810_fr-fr.jpg",\n      "geoCoordinates": "48.8734, 2.2943",\n      "rating": "4.9/5",\n      "description": "A historic hotel with a prestigious location, known for its refined atmosphere, Michelin-starred restaurant, and elegant suites.",\n      "placesNearby": [\n        {\n          "name": "Avenue Montaigne",\n          "details": "Luxury shopping street with designer boutiques.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Avenue_Montaigne_Paris.jpg/1200px-Avenue_Montaigne_Paris.jpg",\n          "geoCoordinates": "48.8658, 2.2944",\n          "ticketPricing": "N/A",\n          "timeToTravel": "5-10 minutes walk"\n        },\n        {\n          "name": "Musée Jacquemart-André",\n          "details": "Private mansion housing a collection of European art.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/Musee_Jacquemart_Andre_Paris_Facade_Detail.jpg/1200px-Musee_Jacquemart_Andre_Paris_Facade_Detail.jpg",\n          "geoCoordinates": "48.8728, 2.2934",\n          "ticketPricing": "14 Euros", \n          "timeToTravel": "10-15 minutes walk"\n        }\n      ]\n    },\n    {\n      "name": "Hôtel Plaza Athénéé",\n      "address": "25 Ave. Montaigne, 75008 Paris, France",\n      "price": "Starting from $2,000 per night", \n      "imageUrl": "https://www.dorchestercollection.com/media/19971/plaza-athenee-paris-exterior-2.jpg",\n      "geoCoordinates": "48.8649, 2.2941",\n      "rating": "4.7/5",\n      "description": "Iconic hotel with a prime location on Avenue Montaigne, known for its luxurious rooms, Michelin-starred restaurant, and chic atmosphere.",\n      "placesNearby": [\n        {\n          "name": "Galeries Lafayette",\n          "details": "Grand department store with luxury goods and a beautiful dome.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Galeries_Lafayette_Paris_%282013-11-14%29.jpg/1280px-Galeries_Lafayette_Paris_%282013-11-14%29.jpg",\n          "geoCoordinates": "48.8737, 2.3331",\n          "ticketPricing": "N/A", \n          "timeToTravel": "15-20 minutes walk"\n        },\n        {\n          "name": "Printemps Haussmann",\n          "details": "Another grand department store with luxury goods and a rooftop terrace.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9f/Printemps_Haussmann_Paris.jpg/1280px-Printemps_Haussmann_Paris.jpg",\n          "geoCoordinates": "48.8739, 2.3331",\n          "ticketPricing": "N/A", \n          "timeToTravel": "15-20 minutes walk"\n        }\n      ]\n    }\n  ],\n  "totalDay": 2,\n  "totalNight": 1,\n  "dayPlan": [\n    {\n      "day": 1,\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "activity": "Start your day with a luxurious breakfast at your hotel.",\n          "place": "Your Hotel",\n          "details": "Enjoy a delicious breakfast with a view or in a beautifully designed dining room."\n        },\n        {\n          "time": "11:00 AM",\n          "activity": "Visit the iconic Eiffel Tower.",\n          "place": "Eiffel Tower",\n          "details": "Take a lift to the top for stunning panoramic views of Paris.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/Tour_Eiffel_night_view.jpg/1280px-Tour_Eiffel_night_view.jpg",\n          "geoCoordinates": "48.8584, 2.2945",\n          "ticketPricing": "26 Euros",\n          "timeToTravel": "30 minutes by metro"\n        },\n        {\n          "time": "1:00 PM",\n          "activity": "Lunch at a Michelin-starred restaurant in the Eiffel Tower.",\n          "place": "Le Jules Verne",\n          "details": "Enjoy a refined dining experience with breathtaking views.",\n          "imageUrl": "https://www.toureiffel.paris/sites/default/files/styles/article_hero/public/2021-04/jules-verne-restaurant-eiffel-tower-paris.jpg",\n          "geoCoordinates": "48.8584, 2.2945",\n          "ticketPricing": "150 Euros (approx.)",\n          "timeToTravel": "N/A"\n        },\n        {\n          "time": "3:00 PM",\n          "activity": "Explore the Louvre Museum.",\n          "place": "Louvre Museum",\n          "details": "Admire masterpieces like the Mona Lisa and Venus de Milo.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Louvre_Museum_Paris_Exterior_2009.jpg/1280px-Louvre_Museum_Paris_Exterior_2009.jpg",\n          "geoCoordinates": "48.8606, 2.3376",\n          "ticketPricing": "17 Euros",\n          "timeToTravel": "30 minutes by metro"\n        },\n        {\n          "time": "6:00 PM",\n          "activity": "Dinner at a sophisticated restaurant in the Marais district.",\n          "place": "Le Bouillon Chartier",\n          "details": "Experience traditional French cuisine in a historic setting.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ed/Le_Bouillon_Chartier%2C_Paris.jpg/1280px-Le_Bouillon_Chartier%2C_Paris.jpg",\n          "geoCoordinates": "48.8639, 2.3542",\n          "ticketPricing": "40 Euros (approx.)",\n          "timeToTravel": "20 minutes by metro"\n        },\n        {\n          "time": "8:00 PM",\n          "activity": "Enjoy a performance at the Palais Garnier opera house.",\n          "place": "Palais Garnier",\n          "details": "Witness a breathtaking opera or ballet performance in this opulent theater.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Palais_Garnier_%28Paris%29_%28cropped%29.jpg/1280px-Palais_Garnier_%28Paris%29_%28cropped%29.jpg",\n          "geoCoordinates": "48.8736, 2.3372",\n          "ticketPricing": "Variable, check website for pricing", \n          "timeToTravel": "10 minutes by metro"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "plan": [\n        {\n          "time": "10:00 AM",\n          "activity": "Start the day with a leisurely stroll along the Seine River.",\n          "place": "Seine River",\n          "details": "Take a boat tour or simply enjoy the scenery from the banks."\n        },\n        {\n          "time": "11:00 AM",\n          "activity": "Visit the Musée d\'Orsay.",\n          "place": "Musée d\'Orsay",\n          "details": "Admire Impressionist and Post-Impressionist art.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Musee_d%27Orsay_fa%C3%A7ade_2015-11-02.jpg/1280px-Musee_d%27Orsay_fa%C3%A7ade_2015-11-02.jpg",\n          "geoCoordinates": "48.8605, 2.3275",\n          "ticketPricing": "16 Euros",\n          "timeToTravel": "10 minutes by metro"\n        },\n        {\n          "time": "1:00 PM",\n          "activity": "Lunch at a charming cafe in Saint-Germain-des-Prés.",\n          "place": "Café de Flore",\n          "details": "Experience Parisian cafe culture with a delicious lunch.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Caf%C3%A9_de_Flore_%282007%29.jpg/1024px-Caf%C3%A9_de_Flore_%282007%29.jpg",\n          "geoCoordinates": "48.8543, 2.3328",\n          "ticketPricing": "30 Euros (approx.)",\n          "timeToTravel": "20 minutes by metro"\n        },\n        {\n          "time": "3:00 PM",\n          "activity": "Explore the charming neighborhood of Montmartre.",\n          "place": "Montmartre",\n          "details": "Visit the Sacré-Cœur Basilica, explore the artists\' studios, and enjoy the vibrant atmosphere.",\n          "imageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Basilique_du_Sacr%C3%A9-C%C3%B8ur_%28Paris%29_03.jpg/1280px-Basilique_du_Sacr%C3%A9-C%C3%B8ur_%28Paris%29_03.jpg",\n          "geoCoordinates": "48.8866, 2.3446",\n          "ticketPricing": "N/A",\n          "timeToTravel": "30 minutes by metro"\n        },\n        {\n          "time": "6:00 PM",\n          "activity": "Enjoy a final Parisian dinner at a rooftop restaurant with panoramic views.",\n          "place": "Le Perchoir Ménilmontant",\n          "details": "Enjoy breathtaking views of the city while dining on delicious food.",\n          "imageUrl": "https://www.leperchoir.com/images/stories/menu/le-perchoir-menilmontant-paris-terrasse-bar-restaurant-rooftop.jpg",\n          "geoCoordinates": "48.8704, 2.3868",\n          "ticketPricing": "50 Euros (approx.)",\n          "timeToTravel": "30 minutes by metro"\n        },\n        {\n          "time": "8:00 PM",\n          "activity": "Relax and reflect on your Parisian adventures.",\n          "place": "Your Hotel",\n          "details": "Enjoy a nightcap in your luxurious hotel room."\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Important Notes:**\n\n* **Flight Price:** The flight price is a placeholder. You will need to search for flights on a website like Google Flights based on your departure city and dates.\n* **Hotel Prices:** The hotel prices provided are starting prices and may vary depending on the time of year and availability.\n* **Place Details:** The descriptions and information provided for places are brief summaries. You may need to research further for more comprehensive details. \n* **Ticket Pricing:** Ticket prices for attractions are subject to change. \n* **Time To Travel:** These are approximate travel times and may vary depending on traffic and mode of transportation.\n* **Customizability:** This plan is a starting point. You can adjust it to suit your interests and preferences.\n* **Enjoy your luxury trip to Paris!** \n',
        },
      ],
    },
  ],
});
